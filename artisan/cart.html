<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="css/styles.css">
  <!-- Navbar Styles not using Tailwind -->
  <link rel="stylesheet" href="css/navigation.css">

  <!-- Adobe Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/bwg3lcf.css">

  <!-- icons -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
  <!-- NAVBAR -->
  <div class="container">
    <nav>
      <div class="primary-nav">
        <div class="primary-nav-container w-10/12 mx-auto">
          <div class="nav-items">
            <div class="nav-item toggle">
              <div>
                <div id="menu-toggle-btn">
                  <span></span>
                </div>
              </div>
            </div>
            <div class="nav-item logo text-beige"> <img src="img/logo.png"
                class="object-cover w-1/2 h-full items-center text-center justify-center" alt="logo">
            </div>
            <div class="nav-item search gap-5">
              <a href="favs.html"> <span><ion-icon name="heart-outline" class="text-beige"></ion-icon></span></a>
              <a href="cart.html"> <span><ion-icon name="cart-outline" class="text-beige"></ion-icon></span></a>
            </div>
          </div>
        </div>
        <div class="nav-links w-10/12 mx-auto">
          <div class="nav-info text-beige">opening soon - stay tuned</div>

          <div class="nav-links-wrapper">

            <div class="nav-link">
              <a href="ourpicks.html">our picks
                <span><ion-icon name="checkmark-circle-outline"></ion-icon></span>
              </a>
            </div>
            <br />

            <div class="nav-link">
              <a href="index.html">home</a>
            </div>

            <div class="nav-link">
              <a href="shop.html">shop</a>
            </div>

            <div class="nav-link">
              <a href="artist.html">the artisans</a>
            </div>

            <br />

            <div class="nav-link">
              <a href="#">about</a>
            </div>
            <div class="nav-link">
              <a href="#">support us</a>
            </div>
            <div class="nav-link">
              <a href="#">become an artisan</a>
            </div>
          </div>

          <br />

          <div class="nav-socials">
            <div class="nav-social">
              <a href="#"><ion-icon name="logo-facebook"></ion-icon></a>
            </div>
            <div class="nav-social">
              <a href="#"><ion-icon name="logo-instagram"></ion-icon></a>
            </div>
            <div class="nav-social">
              <a href="#"><ion-icon name="logo-youtube"></ion-icon></a>
            </div>
            <div class="nav-social">
              <a href="#"><ion-icon name="logo-twitter"></ion-icon></a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </div>

  <div class=" min-h-screen w-11/12 mx-auto">
    <div class="flex justify-between items-center rounded-lg pt-12">
      <h1 class="text-center text-6xl font-2-bold mt-6 text-dark-green">CART</h1>
      <div class="mt-20 flex flex-col sm:flex-row justify-center md:justify-center">
        <button
          class="filter-btn w-full sm:w-40 px-4 py-3 rounded-3xl font-2-bold text-md  text-white border-2 border-lime text-center">
          Continue Shopping
        </button>
      </div>
    </div>
    <div class="grid grid-cols-4 justify-between items-center  rounded-lg pt-12">
      <p class="col-span-2 text-xl font-2-bold mt-6 text-dark-green">Product</p>
      <p class="col-span-1 text-right text-xl font-2-bold mt-6 text-dark-green">Quantity</p>
      <p class="col-span-1 text-right text-xl font-2-bold mt-6 text-dark-green">Total</p>
      <hr class="col-span-4 h-px my-8 bg-gray-200 border-0 dark:bg-gray-700 text-dark-green">
    </div>
 
    <ul id="cart-items"></ul>
    <hr class="h-px my-8 bg-gray-200 border-0 dark:bg-gray-700 text-dark-green">

    <div class="grid grid-cols-4 justify-between items-center rounded-lg pb-12">
      <div class="col-span-3 text-xl font-2-bold mt-6 text-dark-green">
        <p>Special Instructions</p>
      <input type="text" placeholder="Enter text..." class="small-textbox">
      </div>  
      <div class="col-span-1 text-left text-xl font-2-bold mt-6 text-dark-green">
        <p class="mt-10 mb-5">Estimated Total</p>
        <div id="grand-total"></div> 
        <p class="text-sm mt-5 mb-5">Tax and shipping calculated at checkout</p>
        <button
      class="filter-btn width: 100%; sm:w-40 px-4 py-3 rounded-3xl text-white border-2 border-lime text-center">
      Checkout
    </button>
      </div> 
      

    </div>

  </div>


  <!-- Footer -->
  <footer class="relative pt-8 pb-6 bg-dark-green text-beige">
    <div class="w-11/12 mx-auto">
      <div class="flex flex-wrap text-left lg:text-left">
        <div class="w-11/12 mx-auto lg:w-6/12 px-4">
          <h4 class="text-3xl font-1-bold  ">
            <img src="img/logo.png" class="object-cover w-1/2 h-full items-center text-center justify-center"
              alt="logo">
          </h4>
          <h5 class="text-lg mt-2 mb-2 text-darkGreen font-1-reg  ">
            Find us on any of these platforms, we respond 1-2 business days.
          </h5>
          <div class="mt-6 lg:mb-0 mb-6">
            <ion-icon name="logo-instagram" class="mr-4"></ion-icon>
            <ion-icon name="logo-facebook" class="mr-4"></ion-icon>
            <ion-icon name="logo-youtube" class="mr-4"></ion-icon>
            <ion-icon name="logo-twitter" class="mr-4"></ion-icon>
          </div>
        </div>
        <div class="w-full lg:w-6/12">
          <div class="flex flex-wrap items-top mb-6">
            <div class="w-full lg:w-4/12 px-4 ml-auto">
              <span class="block text-md font-2-bold mb-2">Useful Links</span>
              <ul class="list-unstyled">
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">About Us</a>
                </li>
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">Blog</a>
                </li>
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">Featured</a>
                </li>
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">Our Artisans</a>
                </li>
              </ul>
            </div>
            <div class="w-full lg:w-4/12 px-4">
              <span class="block   text-md font-2-bold mb-2">Other Resources</span>
              <ul class="list-unstyled">
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">Become an Artisan</a>
                </li>
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">Terms &amp; Conditions</a>
                </li>
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">Privacy Policy</a>
                </li>
                <li>
                  <a class="text-darkGreen block pb-2 text-sm font-2-reg" href="">Contact Us</a>
                </li>
              </ul>
            </div>
          </div>
        </div>

      </div>
      <hr class="my-6 border-beige">
      <div class="flex flex-wrap items-center md:justify-between justify-center">
        <div class="w-full md:w-4/12 px-4 mx-auto text-center">
          <div class="text-sm text-blueGray-500 font-2-bold py-1  ">
            This is the final project for MDIA 3292. Made by Angus, Jose, Johann.
          </div>
        </div>
      </div>
    </div>
  </footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.6/gsap.min.js"></script>

  <!-- Script Nav bar -->
  <script src="js/nav.js"></script>

  <script>
    function loadCart() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let cartItems = document.getElementById("cart-items");
      let totalPrice = document.getElementById("total-price");
      let grandTotalContainer = document.getElementById("grand-total");
      cartItems.innerHTML = ""; // Clear the current cart

      let total = 0;
      let grandTotal = 0;
      cart.forEach((item, index) => {
        total += item.price * item.quantity;
        grandTotal += total;
        let li = document.createElement("li");
        li.innerHTML = `

        <div class="grid grid-cols-4 pt-12">
        <!-- Image Section -->
        <img src="${item.image}" alt="${item.name}" style="width: 300px; height: auto; margin-right: 15px col-span-1;">

        <!-- Product Info -->
        <div style="col-span-2; display: flex; flex-direction: column; justify-content: center;">
            <strong>${item.name}</strong> <br>
            <span>$${item.price.toFixed(2)}</span>
        </div>

        <!-- Quantity Controls -->
        
       <div style="col-span-2; display: flex; justify-content: right; align-items: center;">
            <button onclick="updateQuantity(${index}, -1)" class="p-5 h-5 w-5 bg-stone-500 text-white rounded-full flex items-center justify-center font-bold hover:bg-neutral-800 m-3 opacity-50">-</button>
            <span>${item.quantity}</span>
            <button onclick="updateQuantity(${index}, 1)" class="p-5 h-5 w-5 bg-stone-500 text-white rounded-full flex items-center justify-center font-bold hover:bg-neutral-800 m-3 ">+</button>
            <button onclick="removeItem(${index})"><ion-icon name="trash-outline"></ion-icon></button>
       </div>
          
      <div style="display: flex; justify-content: right; align-items: center; col-span-1;">
            <strong>$${(item.price * item.quantity).toFixed(2)}</strong>
      </div>

      </div>   
`;
        cartItems.appendChild(li);
      });

      grandTotalContainer.innerHTML = `<p class="text-4xl"> <strong>$${grandTotal.toFixed(2)}</strong></p>`;
    }


    function updateQuantity(index, change) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];

      if (cart[index].quantity + change > 0) {
        cart[index].quantity += change;
      } else {
        cart.splice(index, 1);
      }

      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
    }

    function removeItem(index) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
    }


    loadCart();
  </script>
</body>

</html>